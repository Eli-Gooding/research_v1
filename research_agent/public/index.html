<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Research Agent Tester</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    h1 {
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .card {
      background: #f9f9f9;
      border-radius: 5px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      background: #4285f4;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background: #3367d6;
    }
    pre {
      background: #f1f1f1;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
    }
    .error {
      color: #d32f2f;
      font-weight: bold;
    }
    .tabs {
      display: flex;
      margin-bottom: 10px;
      border-bottom: 1px solid #ddd;
    }
    .tab {
      padding: 8px 16px;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      margin-right: 5px;
      border-radius: 4px 4px 0 0;
    }
    .tab.active {
      background: #f1f1f1;
      border-color: #ddd;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .feature-card {
      background: white;
      border: 1px solid #eee;
      border-radius: 5px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .feature-card h4 {
      margin-top: 0;
      color: #4285f4;
    }
    .feature-category {
      margin-bottom: 20px;
    }
    .feature-category h5 {
      color: #333;
      margin-bottom: 5px;
    }
    .benefits, .technical-details {
      margin-top: 10px;
      padding-left: 10px;
      border-left: 3px solid #f0f0f0;
    }
    .benefits h5, .technical-details h5 {
      margin-top: 0;
      margin-bottom: 5px;
      color: #666;
      font-size: 14px;
    }
    .usp-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 20px;
    }
    .usp-card {
      flex: 1 1 300px;
      background: #f5f9ff;
      border-radius: 5px;
      padding: 15px;
      border-left: 3px solid #4285f4;
    }
    .usp-card h5 {
      margin-top: 0;
      color: #4285f4;
    }
    .limitations-list li {
      margin-bottom: 8px;
      color: #666;
    }
    .feature-card.highlighted {
      border-left: 4px solid #4285f4;
    }
    .pricing-plan {
      background: white;
      border: 1px solid #eee;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .pricing-plan h4 {
      margin-top: 0;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
    }
    .persona-card {
      background: white;
      border: 1px solid #eee;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .persona-card h4 {
      margin-top: 0;
    }
    .tag {
      display: inline-block;
      background: #e0e0e0;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-right: 5px;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <h1>Research Agent Tester</h1>
  
  <div class="card">
    <h2>Submit URL for Scraping</h2>
    <form id="scrapeForm">
      <label for="targetUrl">Target URL:</label>
      <input type="text" id="targetUrl" name="targetUrl" placeholder="https://example.com" required>
      <button type="submit">Submit</button>
    </form>
    <div id="scrapeResult"></div>
  </div>
  
  <div class="card">
    <h2>Check Task Status</h2>
    <form id="statusForm">
      <label for="taskId">Task ID:</label>
      <input type="text" id="taskId" name="taskId" placeholder="Enter task ID" required>
      <button type="submit">Check Status</button>
    </form>
    <div id="statusResult"></div>
  </div>
  
  <div class="card">
    <h2>Get Report</h2>
    <form id="reportForm">
      <label for="reportId">Report ID:</label>
      <input type="text" id="reportId" name="reportId" placeholder="Enter report ID" required>
      <button type="submit">Get Report</button>
    </form>
    <div id="reportResult"></div>
  </div>
  
  <div class="card">
    <h2>Get Detailed Analysis</h2>
    <form id="analysisForm">
      <label for="analysisId">Analysis ID:</label>
      <input type="text" id="analysisId" name="analysisId" placeholder="Enter task ID" required>
      <button type="submit">Get Analysis</button>
    </form>
    <div id="analysisResult"></div>
    <div id="analysisContent" style="display: none;">
      <div class="tabs">
        <div class="tab active" data-tab="features">Features</div>
        <div class="tab" data-tab="pricing">Pricing</div>
        <div class="tab" data-tab="customers">Customers</div>
        <div class="tab" data-tab="raw">Raw Data</div>
      </div>
      
      <div class="tab-content active" id="features-tab">
        <h3>Product Features</h3>
        <div id="features-content"></div>
      </div>
      
      <div class="tab-content" id="pricing-tab">
        <h3>Pricing Analysis</h3>
        <div id="pricing-content"></div>
      </div>
      
      <div class="tab-content" id="customers-tab">
        <h3>Customer Analysis</h3>
        <div id="customers-content"></div>
      </div>
      
      <div class="tab-content" id="raw-tab">
        <h3>Raw Analysis Data</h3>
        <pre id="raw-content"></pre>
      </div>
    </div>
  </div>
  
  <div class="card">
    <h2>Check Analysis Status</h2>
    <form id="analysisStatusForm">
      <label for="analysisStatusId">Analysis ID:</label>
      <input type="text" id="analysisStatusId" name="analysisStatusId" placeholder="Enter task ID" required>
      <button type="submit">Check Status</button>
    </form>
    <div id="analysisStatusResult"></div>
  </div>
  
  <div class="card">
    <h2>List All Reports</h2>
    <button id="listReportsBtn">List Reports</button>
    <div id="reportsListResult"></div>
  </div>
  
  <script>
    // Replace with your worker URLs after deployment
    // PRODUCTION NOTE: Update these URLs to your production Worker domains when deploying
    const WORKER_URL = 'http://localhost:8787';
    const ANALYSIS_WORKER_URL = 'http://localhost:8788';
    
    // Helper function to display results
    function displayResult(elementId, data, isError = false) {
      const element = document.getElementById(elementId);
      element.innerHTML = `<pre class="${isError ? 'error' : ''}">${JSON.stringify(data, null, 2)}</pre>`;
    }
    
    // Submit URL form
    document.getElementById('scrapeForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const targetUrl = document.getElementById('targetUrl').value;
      
      try {
        const response = await fetch(`${WORKER_URL}/scrape`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ targetUrl })
        });
        
        const result = await response.json();
        displayResult('scrapeResult', result);
        
        // Auto-fill the task ID fields
        if (result.jobId) {
          document.getElementById('taskId').value = result.jobId;
          document.getElementById('reportId').value = result.jobId;
          document.getElementById('analysisId').value = result.jobId;
          document.getElementById('analysisStatusId').value = result.jobId;
        }
      } catch (error) {
        displayResult('scrapeResult', { error: error.message }, true);
      }
    });
    
    // Check status form
    document.getElementById('statusForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const taskId = document.getElementById('taskId').value;
      
      try {
        const response = await fetch(`${WORKER_URL}/task/${taskId}`);
        const result = await response.json();
        displayResult('statusResult', result);
      } catch (error) {
        displayResult('statusResult', { error: error.message }, true);
      }
    });
    
    // Get report form
    document.getElementById('reportForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const reportId = document.getElementById('reportId').value;
      
      try {
        const response = await fetch(`${WORKER_URL}/report/${reportId}`);
        const result = await response.json();
        displayResult('reportResult', result);
        
        // If we have a report URL, add a link to it
        if (result.reportUrl) {
          const linkElement = document.createElement('p');
          linkElement.innerHTML = `<a href="${result.reportUrl}" target="_blank">Open Report</a>`;
          document.getElementById('reportResult').appendChild(linkElement);
        }
        
        // If we have report data directly (local development), display it
        if (result.reportData) {
          const reportDataElement = document.createElement('div');
          reportDataElement.innerHTML = `
            <h3>Report Data (Local Development)</h3>
            <pre>${JSON.stringify(result.reportData, null, 2)}</pre>
          `;
          document.getElementById('reportResult').appendChild(reportDataElement);
        }
        
        // Always add a direct download link for local development
        const downloadLinkElement = document.createElement('p');
        downloadLinkElement.innerHTML = `<a href="${WORKER_URL}/download/${reportId}" target="_blank">Direct Download (Local Development)</a>`;
        document.getElementById('reportResult').appendChild(downloadLinkElement);
      } catch (error) {
        displayResult('reportResult', { error: error.message }, true);
      }
    });
    
    // Get detailed analysis form
    document.getElementById('analysisForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const analysisId = document.getElementById('analysisId').value;
      
      try {
        const response = await fetch(`${ANALYSIS_WORKER_URL}/analysis-report/${analysisId}`);
        const result = await response.json();
        
        // Display the raw result
        displayResult('analysisResult', result);
        
        // If we have a report, display it in a more user-friendly way
        if (result.report) {
          document.getElementById('analysisContent').style.display = 'block';
          
          // Display raw data
          document.getElementById('raw-content').textContent = JSON.stringify(result.report, null, 2);
          
          // Display features
          const featuresContent = document.getElementById('features-content');
          featuresContent.innerHTML = '';
          
          if (result.report.features) {
            // Main features
            if (result.report.features.main_features && result.report.features.main_features.length > 0) {
              featuresContent.innerHTML += '<h4>Main Features</h4>';
              result.report.features.main_features.forEach(feature => {
                let benefitsHtml = '';
                if (feature.benefits && feature.benefits.length > 0) {
                  benefitsHtml = `
                    <div class="benefits">
                      <h5>Benefits:</h5>
                      <ul>
                        ${feature.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                      </ul>
                    </div>
                  `;
                }
                
                let technicalDetailsHtml = '';
                if (feature.technical_details) {
                  technicalDetailsHtml = `
                    <div class="technical-details">
                      <h5>Technical Details:</h5>
                      <p>${feature.technical_details}</p>
                    </div>
                  `;
                }
                
                featuresContent.innerHTML += `
                  <div class="feature-card">
                    <h4>${feature.name}</h4>
                    <p>${feature.description}</p>
                    ${benefitsHtml}
                    ${technicalDetailsHtml}
                  </div>
                `;
              });
            }
            
            // Feature categories
            if (result.report.features.feature_categories && result.report.features.feature_categories.length > 0) {
              featuresContent.innerHTML += '<h4>Feature Categories</h4>';
              result.report.features.feature_categories.forEach(category => {
                featuresContent.innerHTML += `
                  <div class="feature-category">
                    <h5>${category.category}</h5>
                    <ul>
                      ${category.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                  </div>
                `;
              });
            }
            
            // Unique selling points
            if (result.report.features.unique_selling_points && result.report.features.unique_selling_points.length > 0) {
              featuresContent.innerHTML += '<h4>Unique Selling Points</h4>';
              featuresContent.innerHTML += '<div class="usp-container">';
              result.report.features.unique_selling_points.forEach(usp => {
                featuresContent.innerHTML += `
                  <div class="usp-card">
                    <h5>${usp.point}</h5>
                    <p>${usp.description}</p>
                  </div>
                `;
              });
              featuresContent.innerHTML += '</div>';
            }
            
            // Limitations
            if (result.report.features.limitations && result.report.features.limitations.length > 0) {
              featuresContent.innerHTML += '<h4>Limitations</h4>';
              featuresContent.innerHTML += '<ul class="limitations-list">';
              result.report.features.limitations.forEach(limitation => {
                featuresContent.innerHTML += `<li>${limitation}</li>`;
              });
              featuresContent.innerHTML += '</ul>';
            }
            
            // Fallback for old format
            if (!result.report.features.main_features && result.report.features.core_features) {
              // Core features
              featuresContent.innerHTML += '<h4>Core Features</h4>';
              result.report.features.core_features.forEach(feature => {
                featuresContent.innerHTML += `
                  <div class="feature-card ${feature.highlighted ? 'highlighted' : ''}">
                    <h4>${feature.name}</h4>
                    <p>${feature.description}</p>
                  </div>
                `;
              });
              
              // Advanced features
              if (result.report.features.advanced_features && result.report.features.advanced_features.length > 0) {
                featuresContent.innerHTML += '<h4>Advanced Features</h4>';
                result.report.features.advanced_features.forEach(feature => {
                  featuresContent.innerHTML += `
                    <div class="feature-card ${feature.highlighted ? 'highlighted' : ''}">
                      <h4>${feature.name}</h4>
                      <p>${feature.description}</p>
                    </div>
                  `;
                });
              }
              
              // Integrations
              if (result.report.features.integrations && result.report.features.integrations.length > 0) {
                featuresContent.innerHTML += '<h4>Integrations</h4>';
                result.report.features.integrations.forEach(integration => {
                  featuresContent.innerHTML += `
                    <div class="feature-card">
                      <h4>${integration.name}</h4>
                      <p>${integration.description}</p>
                    </div>
                  `;
                });
              }
            }
          } else if (result.report.features && result.report.features.raw) {
            // Handle raw text response
            featuresContent.innerHTML = `<p>${result.report.features.raw}</p>`;
          } else if (result.report.features && result.report.features.error) {
            // Handle error
            featuresContent.innerHTML = `<p class="error">Error: ${result.report.features.error}</p>`;
          } else {
            featuresContent.innerHTML = '<p>No feature data available</p>';
          }
          
          // Display pricing
          const pricingContent = document.getElementById('pricing-content');
          pricingContent.innerHTML = '';
          
          if (result.report.pricing && result.report.pricing.pricing_model) {
            pricingContent.innerHTML += `
              <p><strong>Pricing Model:</strong> ${result.report.pricing.pricing_model}</p>
              <p><strong>Currency:</strong> ${result.report.pricing.currency || 'Not specified'}</p>
            `;
            
            // Plans
            if (result.report.pricing.plans && result.report.pricing.plans.length > 0) {
              pricingContent.innerHTML += '<h4>Plans</h4>';
              result.report.pricing.plans.forEach(plan => {
                pricingContent.innerHTML += `
                  <div class="pricing-plan">
                    <h4>${plan.name}</h4>
                    <p><strong>Price:</strong> ${plan.price}</p>
                    <p><strong>Billing:</strong> ${plan.billing_cycle}</p>
                    
                    <p><strong>Features:</strong></p>
                    <ul>
                      ${plan.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                    
                    ${plan.limitations && plan.limitations.length > 0 ? `
                      <p><strong>Limitations:</strong></p>
                      <ul>
                        ${plan.limitations.map(limitation => `<li>${limitation}</li>`).join('')}
                      </ul>
                    ` : ''}
                  </div>
                `;
              });
            }
            
            // Free tier
            if (result.report.pricing.free_tier) {
              pricingContent.innerHTML += `
                <h4>Free Tier</h4>
                <p><strong>Available:</strong> ${result.report.pricing.free_tier.available ? 'Yes' : 'No'}</p>
              `;
              
              if (result.report.pricing.free_tier.limitations && result.report.pricing.free_tier.limitations.length > 0) {
                pricingContent.innerHTML += `
                  <p><strong>Limitations:</strong></p>
                  <ul>
                    ${result.report.pricing.free_tier.limitations.map(limitation => `<li>${limitation}</li>`).join('')}
                  </ul>
                `;
              }
            }
            
            // Free trial
            if (result.report.pricing.free_trial) {
              pricingContent.innerHTML += `
                <h4>Free Trial</h4>
                <p><strong>Available:</strong> ${result.report.pricing.free_trial.available ? 'Yes' : 'No'}</p>
                ${result.report.pricing.free_trial.duration ? `<p><strong>Duration:</strong> ${result.report.pricing.free_trial.duration}</p>` : ''}
              `;
            }
            
            // Special offers
            if (result.report.pricing.special_offers && result.report.pricing.special_offers.length > 0) {
              pricingContent.innerHTML += `
                <h4>Special Offers</h4>
                <ul>
                  ${result.report.pricing.special_offers.map(offer => `<li>${offer}</li>`).join('')}
                </ul>
              `;
            }
            
            // Pricing analysis
            if (result.report.pricing.pricing_analysis) {
              pricingContent.innerHTML += `
                <h4>Pricing Analysis</h4>
                <p>${result.report.pricing.pricing_analysis}</p>
              `;
            }
          } else if (result.report.pricing && result.report.pricing.raw) {
            // Handle raw text response
            pricingContent.innerHTML = `<p>${result.report.pricing.raw}</p>`;
          } else if (result.report.pricing && result.report.pricing.error) {
            // Handle error
            pricingContent.innerHTML = `<p class="error">Error: ${result.report.pricing.error}</p>`;
          } else {
            pricingContent.innerHTML = '<p>No pricing data available</p>';
          }
          
          // Display customers
          const customersContent = document.getElementById('customers-content');
          customersContent.innerHTML = '';
          
          if (result.report.customers && result.report.customers.target_audience) {
            // Target audience
            customersContent.innerHTML += `
              <h4>Target Audience</h4>
              <p><strong>Primary:</strong> ${result.report.customers.target_audience.primary}</p>
              ${result.report.customers.target_audience.secondary ? `<p><strong>Secondary:</strong> ${result.report.customers.target_audience.secondary}</p>` : ''}
            `;
            
            if (result.report.customers.target_audience.industries && result.report.customers.target_audience.industries.length > 0) {
              customersContent.innerHTML += `
                <p><strong>Industries:</strong></p>
                <div>
                  ${result.report.customers.target_audience.industries.map(industry => `<span class="tag">${industry}</span>`).join('')}
                </div>
              `;
            }
            
            // User personas
            if (result.report.customers.user_personas && result.report.customers.user_personas.length > 0) {
              customersContent.innerHTML += '<h4>User Personas</h4>';
              result.report.customers.user_personas.forEach(persona => {
                customersContent.innerHTML += `
                  <div class="persona-card">
                    <h4>${persona.name}</h4>
                    <p><strong>Role:</strong> ${persona.role}</p>
                    
                    <p><strong>Pain Points:</strong></p>
                    <ul>
                      ${persona.pain_points.map(point => `<li>${point}</li>`).join('')}
                    </ul>
                    
                    <p><strong>Goals:</strong></p>
                    <ul>
                      ${persona.goals.map(goal => `<li>${goal}</li>`).join('')}
                    </ul>
                    
                    <p><strong>How Product Helps:</strong> ${persona.how_product_helps}</p>
                  </div>
                `;
              });
            }
            
            // Market positioning
            if (result.report.customers.market_positioning) {
              customersContent.innerHTML += `
                <h4>Market Positioning</h4>
                <p><strong>Category:</strong> ${result.report.customers.market_positioning.category}</p>
                
                <p><strong>Differentiators:</strong></p>
                <ul>
                  ${result.report.customers.market_positioning.differentiators.map(diff => `<li>${diff}</li>`).join('')}
                </ul>
                
                <p><strong>Competitors:</strong></p>
                <div>
                  ${result.report.customers.market_positioning.competitors.map(comp => `<span class="tag">${comp}</span>`).join('')}
                </div>
              `;
            }
            
            // Customer evidence
            if (result.report.customers.customer_evidence) {
              customersContent.innerHTML += '<h4>Customer Evidence</h4>';
              
              if (result.report.customers.customer_evidence.testimonials && result.report.customers.customer_evidence.testimonials.length > 0) {
                customersContent.innerHTML += `
                  <p><strong>Testimonials:</strong></p>
                  <ul>
                    ${result.report.customers.customer_evidence.testimonials.map(testimonial => `<li>${testimonial}</li>`).join('')}
                  </ul>
                `;
              }
              
              if (result.report.customers.customer_evidence.case_studies && result.report.customers.customer_evidence.case_studies.length > 0) {
                customersContent.innerHTML += `
                  <p><strong>Case Studies:</strong></p>
                  <ul>
                    ${result.report.customers.customer_evidence.case_studies.map(study => `<li>${study}</li>`).join('')}
                  </ul>
                `;
              }
              
              if (result.report.customers.customer_evidence.logos_displayed && result.report.customers.customer_evidence.logos_displayed.length > 0) {
                customersContent.innerHTML += `
                  <p><strong>Logos Displayed:</strong></p>
                  <div>
                    ${result.report.customers.customer_evidence.logos_displayed.map(logo => `<span class="tag">${logo}</span>`).join('')}
                  </div>
                `;
              }
            }
            
            // Customer analysis
            if (result.report.customers.customer_analysis) {
              customersContent.innerHTML += `
                <h4>Customer Analysis</h4>
                <p>${result.report.customers.customer_analysis}</p>
              `;
            }
          } else if (result.report.customers && result.report.customers.raw) {
            // Handle raw text response
            customersContent.innerHTML = `<p>${result.report.customers.raw}</p>`;
          } else if (result.report.customers && result.report.customers.error) {
            // Handle error
            customersContent.innerHTML = `<p class="error">Error: ${result.report.customers.error}</p>`;
          } else {
            customersContent.innerHTML = '<p>No customer data available</p>';
          }
        }
      } catch (error) {
        displayResult('analysisResult', { error: error.message }, true);
      }
    });
    
    // Check analysis status form
    document.getElementById('analysisStatusForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const analysisId = document.getElementById('analysisStatusId').value;
      
      try {
        const response = await fetch(`${ANALYSIS_WORKER_URL}/analysis-status/${analysisId}`);
        const result = await response.json();
        displayResult('analysisStatusResult', result);
      } catch (error) {
        displayResult('analysisStatusResult', { error: error.message }, true);
      }
    });
    
    // List all reports
    document.getElementById('listReportsBtn').addEventListener('click', async () => {
      try {
        const response = await fetch(`${WORKER_URL}/reports`);
        const result = await response.json();
        
        // Display the raw result
        displayResult('reportsListResult', result);
        
        // If we have reports, create a more user-friendly display
        if (result.reports && result.reports.length > 0) {
          const reportsElement = document.createElement('div');
          reportsElement.innerHTML = '<h3>Available Reports</h3><ul>';
          
          result.reports.forEach(report => {
            const date = new Date(report.uploaded).toLocaleString();
            const size = (report.size / 1024).toFixed(2) + ' KB';
            
            reportsElement.innerHTML += `
              <li>
                <strong>${report.reportId}</strong> (${size}, uploaded ${date})
                <div>
                  <a href="${WORKER_URL}/report/${report.reportId}" target="_blank">View Report Info</a> | 
                  <a href="${WORKER_URL}/download/${report.reportId}" target="_blank">Direct Download</a> |
                  <a href="#" onclick="document.getElementById('analysisId').value='${report.reportId}'; document.getElementById('analysisForm').dispatchEvent(new Event('submit')); return false;">View Analysis</a>
                </div>
              </li>
            `;
          });
          
          reportsElement.innerHTML += '</ul>';
          document.getElementById('reportsListResult').appendChild(reportsElement);
        }
      } catch (error) {
        displayResult('reportsListResult', { error: error.message }, true);
      }
    });
    
    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked tab
        tab.classList.add('active');
        document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
      });
    });
  </script>
</body>
</html> 